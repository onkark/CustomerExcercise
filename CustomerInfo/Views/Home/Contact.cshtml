@{
    Layout = null;
}
<h2>Onkar Kulkarni</h2>

<script>
    function CountryCntrl($scope) {
        $scope.countries = {
            'India': {
                'Maharashtra': ['Pune', 'Mumbai', 'Nagpur', 'Akola'],
                'Madhya Pradesh': ['Indore', 'Bhopal', 'Jabalpur'],
                'Rajasthan': ['Jaipur', 'Ajmer', 'Jodhpur']
            },
            'USA': {
                'Alabama': ['Montgomery', 'Birmingham'],
                'California': ['Sacramento', 'Fremont'],
                'Illinois': ['Springfield', 'Chicago']
            },
            'Australia': {
                'New South Wales': ['Sydney'],
                'Victoria': ['Melbourne']
            }
        };


        $scope.countryList = [
        {
           name: 'USA', id: 'usa',
           states: [
               { name: 'Alabama', id: 'al', cities: [{ name: 'Alabaster', id: 'al' }, { name: 'Arab', id: 'ar' }, { name: 'Banks', id: 'bk' }] },
               { name: 'Alaska', id: 'as', cities: [{ name: 'Lakes', id: 'lk' }, { name: 'Kenai', id: 'kn' }, { name: 'Gateway', id: 'gw' }] },
               { name: 'New Jersey', id: 'nj', cities: [{ name: 'Atlanta', id: 'at' }, { name: 'Jersey', id: 'js' }, { name: 'Newark', id: 'nw' }] },
               { name: 'New Carolina', id: 'nc', cities: [{ name: 'Charlotte', id: 'clt' }, { name: 'Religh', id: 'reli' }, { name: 'Wilmington', id: 'wilm' }] },
               { name: 'New York', id: 'ny', cities: [{ name: 'Kingston', id: 'kg' }, { name: 'Lockport', id: 'lp' }, { name: 'Olean', id: 'ol' }] },
               { name: 'Texas', id: 'tx', cities: [{ name: 'Dallas', id: 'dl' }, { name: 'Austin', id: 'as' }, { name: 'Houston', id: 'hs' }] }]
        }
        ];

        $scope.$watch('selectedUser.State', function (selectedStateId) {
            if (selectedStateId) {

                alert(selectedStateId);

                angular.forEach($scope.countryList[0].states, function (state) {
                    if (selectedStateId == state.id) {
                        $scope.selectedState = state;
                    }
                });
            }
        });
    }
</script>


<div ng-controller="CountryCntrl">
    
    <div>
        <div>
            Country:
            <select id="country" ng-model="states" ng-options="country for (country, states) in countries">
                <option value=''>Select</option>
            </select>
        </div>
        <div>
            States: <select id="state" ng-disabled="!states" ng-model="cities" ng-options="state for (state,city) in states"><option value=''>Select</option></select>
        </div>
        <div>
            City: <select id="city" ng-disabled="!cities || !states" ng-model="city" ng-options="city for city in cities"><option value=''>Select</option></select>
        </div>
    </div>

    <br /><br />
    <div class="form-group">
        <label for="country">Country</label>
        @*<select id="country" name="country" data-ng-model="selectedUser.Country" data-ng-options="c.id as c.name for c in countryList"></select>*@
        <select id="country" name="country" data-ng-model="selectedUser.Country" data-ng-options="country.id as country.name for  country in countryList"></select>
    </div>
    <div class="form-group">
        <label for="state">State</label>
        <select id="state" name="state" data-ng-disabled="!selectedUser.Country" data-ng-model="selectedUser.State" data-ng-change="clearCityAndZip();" data-ng-options="s.id as s.name for s in countryList[0].states"></select>
    </div>
    <div class="form-group">
        <label for="city">City</label>
        <select id="city" name="city" data-ng-model="selectedUser.City" data-ng-options="c.id as c.name for c in selectedState.cities">
            <option value="" selected="selected">Select City</option>
        </select>
    </div>


</div>

